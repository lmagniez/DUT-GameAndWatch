<head>
        <meta charset="utf-8">
        <title>DonkeyKong - Beta</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    </head>
    
    <body>
        <nav class="navbar navbar-inverse navbar-fixed-top">
          <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>                        
              </button>
            </div>
            <div class="collapse navbar-collapse text-center divnav" id="myNavbar">
                <a class="other" href="#">Other</a>
                <a class="accueil" href="game.html">DonkeyKong</a>
                <a class="other" href="#">HighScores</a>
            </div>
          </div>
        </nav>
        
        <!--- test ---
        
             --->
            <form name='formNomPrenom'>
                    Entrez votre nom: <input type='text' id="nom" name='nom'><br>
                    Entrez votre score: <input type='text' id="score" name='score'><br>
                    <input type='button' name='bouton' value='ajouter' onClick='ajouterScore()'>
            </form>
            <div id="res"></div>
              <script src="js/sql.js"></script>
                <script>
                    
                    function ajouterScore(){
                        var nom = document.getElementById("nom").value;
                        var score = document.getElementById("score").value;
                        console.log("INSERT INTO scores(score, nom) VALUES("+score+","+"'"+nom+"'"+");");
                        sqldb.exec("INSERT INTO scores(score, nom) VALUES("+score+","+"'"+nom+"'"+");");
                        var data = sqldb.export();
                        var file = fopen("scores.sqlite",3);// opens the file for writing
                        fwrite(file, data);
                    }
                    
                    function loadBinaryFile(path,success) {
                        var xhr = new XMLHttpRequest();
                        xhr.open("GET", path, true); 
                        xhr.responseType = "arraybuffer";
                        xhr.onload = function() {
                            var data = new Uint8Array(xhr.response);
                            var arr = new Array();
                            for(var i = 0; i != data.length; ++i) arr[i] = String.fromCharCode(data[i]);
                            success(arr.join(""));
                        };
                        xhr.send();
                    };

                    loadBinaryFile('scores.sqlite', function(data){
                        sqldb = new SQL.Database(data);
                        var res = sqldb.exec("SELECT * FROM scores")
                        var size=res[0]["values"].length;
                        var tableau="";
                        tableau += '<TABLE BORDER="1"><TR class="tr"><TH>Score</TH><TH>Joueur</TH></TR>';
                        for(var i=0;i<size;i++) { //
                           tableau += '<TR class="tr"><TD>'+res[0]["values"][i][2]+'</TD><TD>'+res[0]["values"][i][1]+'</TD></TR>'; 
                        }
                        tableau += '</TABLE>';
                        document.getElementById("res").innerHTML = tableau;
                    });
                        
                </script>
</body>